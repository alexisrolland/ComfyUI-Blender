name: Auto-add Estimate from T-shirt Size

on:
  issues:
    types: [labeled]

jobs:
  add-estimate:
    runs-on: ubuntu-latest
    steps:
      - name: Add estimate based on t-shirt size
        uses: actions/github-script@v7
        with:
          github-token: ${{secrets.GITHUB_TOKEN}}
          script: |
            const label = context.payload.label.name;
            const issueNumber = context.payload.issue.number;
            
            // Define your t-shirt size to estimate mapping
            const sizeToEstimate = {
              'size/XS': '1',
              'size/S': '2',
              'size/M': '3',
              'size/L': '5',
              'size/XL': '8'
            };
            
            if (sizeToEstimate[label]) {
              // Option A: Add as a comment
              await github.rest.issues.createComment({
                owner: context.repo.owner,
                repo: context.repo.repo,
                issue_number: issueNumber,
                body: `⏱️ Estimated effort: **${sizeToEstimate[label]}**`
              });
            }
